2021-07-15 09:02:45.480.-04:00 [INF] Application is Starting
2021-07-15 09:02:47.183.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 09:02:47.761.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 09:02:47.761.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 09:02:47.761.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 09:02:47.761.-04:00 [INF] Hosting environment: Development
2021-07-15 09:02:47.761.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 09:02:49.141.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger - -
2021-07-15 09:02:49.188.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger - - - 301 0 - 48.4902ms
2021-07-15 09:02:49.207.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 09:02:49.273.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 66.3562ms
2021-07-15 09:02:49.370.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js - -
2021-07-15 09:02:49.370.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-07-15 09:02:49.388.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - -
2021-07-15 09:02:49.475.-04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-15 09:02:49.475.-04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-07-15 09:02:49.477.-04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-07-15 09:02:49.477.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css - - - 200 142933 text/css 106.6277ms
2021-07-15 09:02:49.477.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js - - - 200 986342 application/javascript 107.0694ms
2021-07-15 09:02:49.477.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - - - 200 311804 application/javascript 88.9612ms
2021-07-15 09:02:49.667.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 09:02:49.688.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/favicon-32x32.png - -
2021-07-15 09:02:49.688.-04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-07-15 09:02:49.688.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/favicon-32x32.png - - - 200 628 image/png 0.4338ms
2021-07-15 09:02:49.765.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 97.7135ms
2021-07-15 09:06:39.960.-04:00 [INF] Application is Starting
2021-07-15 09:06:41.388.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 09:06:41.891.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 09:06:41.891.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 09:06:41.891.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 09:06:41.891.-04:00 [INF] Hosting environment: Development
2021-07-15 09:06:41.891.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 09:06:43.083.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 09:06:43.191.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 110.6035ms
2021-07-15 09:06:43.537.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 09:06:43.639.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 98.8021ms
2021-07-15 09:06:57.406.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ text/plain 108
2021-07-15 09:06:57.563.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-15 09:06:57.607.-04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 09:06:57.992.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 415
2021-07-15 09:06:57.998.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 386.554ms
2021-07-15 09:06:57.998.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-15 09:06:57.999.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ text/plain 108 - 415 0 - 593.4485ms
2021-07-15 09:08:10.421.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 108
2021-07-15 09:08:10.428.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-15 09:08:10.428.-04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 09:08:11.420.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:08:12.093.-04:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-07-15 09:08:12.169.-04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'HotelListing.Data.Hotel'.
2021-07-15 09:08:12.248.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 1819.7329ms
2021-07-15 09:08:12.248.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-15 09:08:12.252.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 108 - 201 115 application/json;+charset=utf-8 1831.5053ms
2021-07-15 09:09:13.599.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 09:09:13.603.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 09:09:13.606.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 09:09:13.637.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:09:13.870.-04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 09:09:13.900.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 09:09:13.912.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 306.1253ms
2021-07-15 09:09:13.912.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 09:09:13.912.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 432 application/json;+charset=utf-8 312.7840ms
2021-07-15 09:23:08.540.-04:00 [INF] Application is Starting
2021-07-15 09:23:09.952.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 09:23:10.494.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 09:23:10.494.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 09:23:10.494.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 09:23:10.494.-04:00 [INF] Hosting environment: Development
2021-07-15 09:23:10.494.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 09:23:11.736.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 09:23:11.835.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 101.2441ms
2021-07-15 09:23:12.071.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 09:23:12.163.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 92.0540ms
2021-07-15 09:25:36.678.-04:00 [INF] Application is Starting
2021-07-15 09:25:38.141.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 09:25:38.674.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 09:25:38.675.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 09:25:38.675.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 09:25:38.675.-04:00 [INF] Hosting environment: Development
2021-07-15 09:25:38.675.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 09:25:39.934.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 09:25:40.029.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 96.6966ms
2021-07-15 09:25:40.262.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 09:25:40.358.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 95.7391ms
2021-07-15 09:27:32.154.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 09:27:32.303.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 09:27:32.337.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 09:27:33.410.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:27:34.091.-04:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 09:27:34.149.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 09:27:34.292.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 1950.3292ms
2021-07-15 09:27:34.293.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 09:27:34.298.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 173 application/json;+charset=utf-8 2143.5975ms
2021-07-15 09:27:45.273.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Country application/json 46
2021-07-15 09:27:45.275.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.CreateCountry (HotelListing)'
2021-07-15 09:27:45.288.-04:00 [INF] Route matched with {action = "CreateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCountry(HotelListing.Models.CreateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 09:27:45.378.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:27:45.560.-04:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Countries] ([Name], [ShortName])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Countries]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-07-15 09:27:45.633.-04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'HotelListing.Data.Country'.
2021-07-15 09:27:45.676.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.CreateCountry (HotelListing) in 387.484ms
2021-07-15 09:27:45.676.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.CreateCountry (HotelListing)'
2021-07-15 09:27:45.676.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Country application/json 46 - 201 58 application/json;+charset=utf-8 402.8208ms
2021-07-15 09:32:59.170.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/login application/json 64
2021-07-15 09:32:59.173.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/login application/json 64 - 404 0 - 2.7647ms
2021-07-15 09:33:25.378.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/login application/json 63
2021-07-15 09:33:25.379.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/login application/json 63 - 404 0 - 0.2899ms
2021-07-15 09:34:23.408.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/login application/json 63
2021-07-15 09:34:23.533.-04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-15 09:34:23.604.-04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-07-15 09:34:23.604.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/login application/json 63 - 404 0 - 196.2413ms
2021-07-15 09:34:52.112.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/login application/json 64
2021-07-15 09:34:52.113.-04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-15 09:34:52.113.-04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-07-15 09:34:52.113.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/login application/json 64 - 404 0 - 1.3164ms
2021-07-15 09:34:59.991.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json-patch+json 55
2021-07-15 09:34:59.993.-04:00 [INF] CORS policy execution successful.
2021-07-15 09:34:59.994.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:34:59.997.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 09:35:00.013.-04:00 [INF] Login Attempt for user2@hotels.com
2021-07-15 09:35:00.027.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:35:00.225.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 09:35:00.371.-04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 09:35:00.403.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 09:35:00.409.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 411.6464ms
2021-07-15 09:35:00.409.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:35:00.411.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json-patch+json 55 - 202 349 application/json;+charset=utf-8 419.9743ms
2021-07-15 09:35:46.286.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/login application/json 64
2021-07-15 09:35:46.300.-04:00 [INF] Successfully validated the token.
2021-07-15 09:35:46.302.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/login application/json 64 - 404 0 - 15.5260ms
2021-07-15 09:36:21.834.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/login application/json 64
2021-07-15 09:36:21.834.-04:00 [INF] Successfully validated the token.
2021-07-15 09:36:21.834.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/login application/json 64 - 404 0 - 0.5973ms
2021-07-15 09:36:39.937.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64
2021-07-15 09:36:39.938.-04:00 [INF] Successfully validated the token.
2021-07-15 09:36:39.938.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:36:39.939.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 09:36:39.945.-04:00 [INF] Login Attempt for user2@hotels.com
2021-07-15 09:36:39.945.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:36:39.996.-04:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 09:36:40.110.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 09:36:40.111.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 09:36:40.111.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 172.1471ms
2021-07-15 09:36:40.111.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:36:40.111.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64 - 202 349 application/json;+charset=utf-8 173.7201ms
2021-07-15 09:37:26.874.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:37:26.880.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:37:26.885.-04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-15 09:37:26.885.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 401 0 - 10.7739ms
2021-07-15 09:37:48.674.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:37:48.675.-04:00 [INF] Successfully validated the token.
2021-07-15 09:37:48.679.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:37:48.680.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:37:48.681.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 403 0 - 6.6715ms
2021-07-15 09:38:08.273.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:38:08.273.-04:00 [INF] Successfully validated the token.
2021-07-15 09:38:08.274.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:38:08.274.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:38:08.274.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 403 0 - 1.2928ms
2021-07-15 09:38:46.784.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:38:46.784.-04:00 [INF] Successfully validated the token.
2021-07-15 09:38:46.784.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:38:46.784.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:38:46.784.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 403 0 - 3.2248ms
2021-07-15 09:39:15.360.-04:00 [INF] Application is Starting
2021-07-15 09:39:16.625.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 09:39:17.125.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 09:39:17.125.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 09:39:17.126.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 09:39:17.126.-04:00 [INF] Hosting environment: Development
2021-07-15 09:39:17.126.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 09:39:18.239.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 09:39:18.329.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 93.1508ms
2021-07-15 09:39:18.556.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 09:39:18.649.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 93.3995ms
2021-07-15 09:39:30.044.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64
2021-07-15 09:39:30.369.-04:00 [INF] Successfully validated the token.
2021-07-15 09:39:30.371.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:39:30.407.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 09:39:30.837.-04:00 [INF] Login Attempt for user2@hotels.com
2021-07-15 09:39:31.577.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:39:32.254.-04:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 09:39:32.425.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 09:39:32.445.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 09:39:32.485.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2073.6188ms
2021-07-15 09:39:32.486.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:39:32.491.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64 - 202 349 application/json;+charset=utf-8 2446.6834ms
2021-07-15 09:39:54.076.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:39:54.079.-04:00 [INF] Successfully validated the token.
2021-07-15 09:39:54.084.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:39:54.087.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:39:54.087.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 403 0 - 10.3428ms
2021-07-15 09:41:08.319.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json-patch+json 55
2021-07-15 09:41:08.320.-04:00 [INF] CORS policy execution successful.
2021-07-15 09:41:08.323.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:41:08.323.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 09:41:08.327.-04:00 [INF] Login Attempt for user2@hotels.com
2021-07-15 09:41:08.354.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:41:08.360.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 09:41:08.378.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 09:41:08.379.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 09:41:08.380.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 57.3571ms
2021-07-15 09:41:08.380.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:41:08.381.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json-patch+json 55 - 202 349 application/json;+charset=utf-8 61.2527ms
2021-07-15 09:41:29.069.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Country application/json-patch+json 80
2021-07-15 09:41:29.070.-04:00 [INF] CORS policy execution successful.
2021-07-15 09:41:29.074.-04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-15 09:41:29.079.-04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-15 09:41:29.079.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Country application/json-patch+json 80 - 401 0 - 10.1894ms
2021-07-15 09:48:37.491.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64
2021-07-15 09:48:37.495.-04:00 [INF] Successfully validated the token.
2021-07-15 09:48:37.495.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:48:37.496.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 09:48:37.508.-04:00 [INF] Login Attempt for user2@hotels.com
2021-07-15 09:48:37.517.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:48:37.766.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 09:48:37.857.-04:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 09:48:37.902.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 09:48:37.903.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 406.9398ms
2021-07-15 09:48:37.903.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:48:37.903.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64 - 202 349 application/json;+charset=utf-8 412.8175ms
2021-07-15 09:48:54.637.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:48:54.637.-04:00 [INF] Successfully validated the token.
2021-07-15 09:48:54.638.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:48:54.639.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:48:54.639.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 403 0 - 1.9219ms
2021-07-15 09:48:56.852.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:48:56.853.-04:00 [INF] Successfully validated the token.
2021-07-15 09:48:56.853.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:48:56.853.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:48:56.853.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 403 0 - 0.6847ms
2021-07-15 09:49:44.779.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:49:44.780.-04:00 [INF] Successfully validated the token.
2021-07-15 09:49:44.780.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:49:44.780.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:49:44.780.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 403 0 - 0.8676ms
2021-07-15 09:49:57.972.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:49:57.972.-04:00 [INF] Successfully validated the token.
2021-07-15 09:49:57.972.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:49:57.972.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:49:57.973.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 403 0 - 0.5556ms
2021-07-15 09:51:21.885.-04:00 [INF] Application is Starting
2021-07-15 09:51:23.242.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 09:51:23.808.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 09:51:23.808.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 09:51:23.808.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 09:51:23.808.-04:00 [INF] Hosting environment: Development
2021-07-15 09:51:23.809.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 09:51:25.134.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 09:51:25.235.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 103.3475ms
2021-07-15 09:51:25.472.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 09:51:25.569.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 97.1619ms
2021-07-15 09:51:27.123.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64
2021-07-15 09:51:27.460.-04:00 [INF] Successfully validated the token.
2021-07-15 09:51:27.463.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:51:27.497.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 09:51:27.923.-04:00 [INF] Login Attempt for user2@hotels.com
2021-07-15 09:51:28.592.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:51:29.307.-04:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 09:51:29.475.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 09:51:29.496.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 09:51:29.537.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2035.3376ms
2021-07-15 09:51:29.538.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:51:29.543.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64 - 202 349 application/json;+charset=utf-8 2419.9855ms
2021-07-15 09:51:52.264.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Country application/json 46
2021-07-15 09:51:52.269.-04:00 [INF] Successfully validated the token.
2021-07-15 09:51:52.273.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:51:52.276.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:51:52.276.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Country application/json 46 - 403 0 - 12.8077ms
2021-07-15 09:52:59.646.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Country application/json 46
2021-07-15 09:52:59.648.-04:00 [INF] Successfully validated the token.
2021-07-15 09:52:59.649.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:52:59.649.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:52:59.649.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Country application/json 46 - 403 0 - 2.7368ms
2021-07-15 09:54:44.043.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Country application/json 46
2021-07-15 09:54:44.043.-04:00 [INF] Successfully validated the token.
2021-07-15 09:54:44.044.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:54:44.044.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:54:44.044.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Country application/json 46 - 403 0 - 1.5248ms
2021-07-15 09:54:46.955.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Country application/json 46
2021-07-15 09:54:46.955.-04:00 [INF] Successfully validated the token.
2021-07-15 09:54:46.956.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:54:46.956.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:54:46.956.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Country application/json 46 - 403 0 - 0.6368ms
2021-07-15 09:54:51.117.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64
2021-07-15 09:54:51.118.-04:00 [INF] Successfully validated the token.
2021-07-15 09:54:51.118.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:54:51.118.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 09:54:51.169.-04:00 [INF] Login Attempt for user2@hotels.com
2021-07-15 09:54:51.196.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:54:51.201.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 09:54:51.220.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 09:54:51.221.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 09:54:51.221.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 103.2661ms
2021-07-15 09:54:51.221.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 09:54:51.222.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64 - 202 349 application/json;+charset=utf-8 104.8300ms
2021-07-15 09:55:06.755.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Country application/json 46
2021-07-15 09:55:06.755.-04:00 [INF] Successfully validated the token.
2021-07-15 09:55:06.755.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:55:06.755.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:55:06.756.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Country application/json 46 - 403 0 - 0.7726ms
2021-07-15 09:55:13.106.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Country application/json 46
2021-07-15 09:55:13.106.-04:00 [INF] Successfully validated the token.
2021-07-15 09:55:13.106.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:55:13.106.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:55:13.107.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Country application/json 46 - 403 0 - 0.7136ms
2021-07-15 09:55:45.195.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:55:45.223.-04:00 [INF] Successfully validated the token.
2021-07-15 09:55:45.223.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:55:45.223.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:55:45.223.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 403 0 - 27.6950ms
2021-07-15 09:55:51.153.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 09:55:51.154.-04:00 [INF] Successfully validated the token.
2021-07-15 09:55:51.154.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:55:51.154.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:55:51.154.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 403 0 - 0.7834ms
2021-07-15 09:55:59.760.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 99
2021-07-15 09:55:59.760.-04:00 [INF] Successfully validated the token.
2021-07-15 09:55:59.760.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 09:55:59.760.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 09:55:59.760.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 99 - 403 0 - 0.6739ms
2021-07-15 09:58:57.016.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/3 - -
2021-07-15 09:58:57.017.-04:00 [INF] Successfully validated the token.
2021-07-15 09:58:57.017.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-07-15 09:58:57.021.-04:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 09:58:57.035.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 09:58:57.076.-04:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-15 09:58:57.129.-04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'.
2021-07-15 09:58:57.136.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 114.3934ms
2021-07-15 09:58:57.136.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-07-15 09:58:57.136.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/3 - - - 200 99 application/json;+charset=utf-8 120.9243ms
2021-07-15 10:00:17.931.-04:00 [INF] Application is Starting
2021-07-15 10:00:19.201.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 10:00:19.689.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 10:00:19.690.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 10:00:19.690.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 10:00:19.690.-04:00 [INF] Hosting environment: Development
2021-07-15 10:00:19.690.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 10:00:20.889.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 10:00:20.997.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 109.9792ms
2021-07-15 10:00:21.242.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 10:00:21.336.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 93.9817ms
2021-07-15 10:00:23.479.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 10:00:23.610.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 10:00:23.638.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 10:00:24.743.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:00:25.427.-04:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 10:00:25.499.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 10:00:25.662.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 2018.9697ms
2021-07-15 10:00:25.663.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 10:00:25.669.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 432 application/json;+charset=utf-8 2190.2120ms
2021-07-15 10:00:35.046.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64
2021-07-15 10:00:35.210.-04:00 [INF] Successfully validated the token.
2021-07-15 10:00:35.212.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 10:00:35.226.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 10:00:35.298.-04:00 [INF] Login Attempt for user2@hotels.com
2021-07-15 10:00:35.332.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:00:35.468.-04:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 10:00:35.635.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 10:00:35.667.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 10:00:35.673.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 446.6188ms
2021-07-15 10:00:35.673.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 10:00:35.674.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 64 - 202 349 application/json;+charset=utf-8 628.6407ms
2021-07-15 10:01:18.921.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 - -
2021-07-15 10:01:18.923.-04:00 [INF] Successfully validated the token.
2021-07-15 10:01:18.924.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-07-15 10:01:18.927.-04:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 10:01:18.949.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:01:18.960.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-15 10:01:18.964.-04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'.
2021-07-15 10:01:18.964.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 36.9663ms
2021-07-15 10:01:18.964.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-07-15 10:01:18.964.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 - - - 200 109 application/json;+charset=utf-8 43.4079ms
2021-07-15 10:01:41.753.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 99
2021-07-15 10:01:41.753.-04:00 [INF] Successfully validated the token.
2021-07-15 10:01:41.758.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 10:01:41.760.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 10:01:41.760.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 99 - 403 0 - 6.8578ms
2021-07-15 10:12:32.906.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/register application/json 183
2021-07-15 10:12:32.907.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-15 10:12:32.938.-04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 10:12:32.995.-04:00 [INF] Registration Attempt for mark@hotels.com
2021-07-15 10:12:33.041.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:12:33.163.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-15 10:12:33.174.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 10:12:33.289.-04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-07-15 10:12:33.326.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-07-15 10:12:33.347.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-07-15 10:12:33.352.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-07-15 10:12:33.367.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-15 10:12:33.370.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 10:12:33.391.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-07-15 10:12:33.399.-04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2021-07-15 10:12:33.407.-04:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2021-07-15 10:12:33.407.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 469.5828ms
2021-07-15 10:12:33.407.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-15 10:12:33.408.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/register application/json 183 - 202 0 - 501.8527ms
2021-07-15 10:14:56.049.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 10:14:56.053.-04:00 [INF] Successfully validated the token.
2021-07-15 10:14:56.053.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 10:14:56.053.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 10:14:56.059.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 10:14:56.060.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:14:56.066.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 10:14:56.084.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 10:14:56.084.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 10:14:56.084.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 31.1245ms
2021-07-15 10:14:56.084.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 10:14:56.084.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 57.7397ms
2021-07-15 10:15:17.487.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97
2021-07-15 10:15:17.488.-04:00 [INF] Successfully validated the token.
2021-07-15 10:15:17.489.-04:00 [INF] Authorization was successful.
2021-07-15 10:15:17.489.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-15 10:15:17.491.-04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 10:15:17.504.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:15:17.557.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-07-15 10:15:17.585.-04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'HotelListing.Data.Hotel'.
2021-07-15 10:15:17.638.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 146.3279ms
2021-07-15 10:15:17.638.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-15 10:15:17.639.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 97 - 201 104 application/json;+charset=utf-8 151.4312ms
2021-07-15 10:15:24.174.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 10:15:24.174.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 10:15:24.174.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 10:15:24.174.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:15:24.198.-04:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 10:15:24.241.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 10:15:24.241.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 66.9198ms
2021-07-15 10:15:24.241.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 10:15:24.241.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 67.4160ms
2021-07-15 10:15:56.386.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 10:15:56.386.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:15:56.389.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 10:15:56.391.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:15:56.495.-04:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 10:15:56.504.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 10:15:56.506.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 117.1458ms
2021-07-15 10:15:56.506.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:15:56.507.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 230 application/json;+charset=utf-8 120.7796ms
2021-07-15 10:16:00.562.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country/ - -
2021-07-15 10:16:00.563.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:16:00.563.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 10:16:00.563.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:16:00.566.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 10:16:00.566.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 10:16:00.566.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 3.675ms
2021-07-15 10:16:00.566.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:16:00.567.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country/ - - - 200 230 application/json;+charset=utf-8 4.2437ms
2021-07-15 10:16:04.635.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Country application/json 46
2021-07-15 10:16:04.635.-04:00 [INF] Successfully validated the token.
2021-07-15 10:16:04.636.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 10:16:04.636.-04:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-07-15 10:16:04.636.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Country application/json 46 - 403 0 - 1.2292ms
2021-07-15 10:16:12.358.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 10:16:12.359.-04:00 [INF] Successfully validated the token.
2021-07-15 10:16:12.359.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 10:16:12.359.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 10:16:12.359.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 10:16:12.360.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:16:12.432.-04:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 10:16:12.451.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 10:16:12.451.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 10:16:12.451.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 92.3467ms
2021-07-15 10:16:12.451.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 10:16:12.451.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 93.0078ms
2021-07-15 10:16:15.254.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/register application/json 183
2021-07-15 10:16:15.254.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-15 10:16:15.254.-04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 10:16:15.255.-04:00 [INF] Registration Attempt for mark@hotels.com
2021-07-15 10:16:15.271.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:16:15.320.-04:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-15 10:16:15.324.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 10:16:15.325.-04:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-07-15 10:16:15.327.-04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2021-07-15 10:16:15.332.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 78.1431ms
2021-07-15 10:16:15.332.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-15 10:16:15.333.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/register application/json 183 - 400 133 application/json;+charset=utf-8 78.6504ms
2021-07-15 10:38:26.211.-04:00 [INF] Application is Starting
2021-07-15 10:38:27.497.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 10:38:28.010.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 10:38:28.010.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 10:38:28.011.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 10:38:28.011.-04:00 [INF] Hosting environment: Development
2021-07-15 10:38:28.011.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 10:38:29.204.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 10:38:29.306.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 104.5829ms
2021-07-15 10:38:29.332.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js - -
2021-07-15 10:38:29.400.-04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-07-15 10:38:29.402.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js - - - 200 986342 application/javascript 70.1825ms
2021-07-15 10:38:29.574.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 10:38:29.675.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 100.6286ms
2021-07-15 10:40:32.085.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 10:40:32.211.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 10:40:32.237.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 10:40:33.220.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:40:33.790.-04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 10:40:33.842.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 10:40:33.973.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 1732.8165ms
2021-07-15 10:40:33.974.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 10:40:33.977.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 1893.6563ms
2021-07-15 10:41:20.174.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 10:41:20.182.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:41:20.186.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 10:41:20.214.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:41:20.224.-04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 10:41:20.233.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 10:41:20.236.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 50.0452ms
2021-07-15 10:41:20.236.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:41:20.236.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 230 application/json;+charset=utf-8 62.0698ms
2021-07-15 10:42:59.967.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 10:43:00.126.-04:00 [INF] Successfully validated the token.
2021-07-15 10:43:00.127.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 10:43:00.143.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 10:43:00.224.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 10:43:00.237.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:43:00.356.-04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 10:43:00.502.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 10:43:00.516.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 10:43:00.520.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 365.4353ms
2021-07-15 10:43:00.520.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 10:43:00.522.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 554.4921ms
2021-07-15 10:43:20.321.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Hotel/5 application/json 99
2021-07-15 10:43:20.321.-04:00 [INF] Successfully validated the token.
2021-07-15 10:43:20.321.-04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-07-15 10:43:20.321.-04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-07-15 10:43:20.322.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Hotel/5 application/json 99 - 405 0 - 0.9334ms
2021-07-15 10:45:01.636.-04:00 [INF] Application is Starting
2021-07-15 10:45:03.081.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 10:45:03.621.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 10:45:03.621.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 10:45:03.621.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 10:45:03.621.-04:00 [INF] Hosting environment: Development
2021-07-15 10:45:03.621.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 10:45:04.784.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 10:45:04.890.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 107.7562ms
2021-07-15 10:45:05.215.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 10:45:05.312.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.3762ms
2021-07-15 10:45:36.209.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 10:45:36.582.-04:00 [INF] Successfully validated the token.
2021-07-15 10:45:36.585.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 10:45:36.620.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 10:45:37.050.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 10:45:37.791.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:45:38.492.-04:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 10:45:38.668.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 10:45:38.689.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 10:45:38.730.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2106.3446ms
2021-07-15 10:45:38.731.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 10:45:38.737.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2527.9503ms
2021-07-15 10:45:49.374.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Hotel/5 application/json 99
2021-07-15 10:45:49.377.-04:00 [INF] Successfully validated the token.
2021-07-15 10:45:49.381.-04:00 [INF] Authorization was successful.
2021-07-15 10:45:49.382.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'
2021-07-15 10:45:49.386.-04:00 [INF] Route matched with {action = "UpdateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateHotel(Int32, HotelListing.Models.UpdateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 10:45:49.426.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:45:49.440.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-15 10:45:49.634.-04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Hotels] SET [Address] = @p0, [CountryId] = @p1, [Name] = @p2, [Rating] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2021-07-15 10:45:49.664.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 10:45:49.664.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.UpdateHotel (HotelListing) in 278.1163ms
2021-07-15 10:45:49.664.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'
2021-07-15 10:45:49.665.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Hotel/5 application/json 99 - 204 - - 291.0496ms
2021-07-15 10:46:01.229.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 10:46:01.230.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 10:46:01.233.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 10:46:01.241.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:46:01.251.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 10:46:01.271.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 10:46:01.283.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 50.136ms
2021-07-15 10:46:01.283.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 10:46:01.283.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 54.9250ms
2021-07-15 10:46:14.043.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 10:46:14.043.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:46:14.046.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 10:46:14.048.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:46:14.076.-04:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 10:46:14.088.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 10:46:14.091.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 45.1066ms
2021-07-15 10:46:14.091.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:46:14.094.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 230 application/json;+charset=utf-8 48.4783ms
2021-07-15 10:46:25.639.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 10:46:25.639.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:46:25.640.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 10:46:25.640.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:46:25.644.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 10:46:25.647.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 10:46:25.647.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 7.5472ms
2021-07-15 10:46:25.647.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:46:25.647.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 230 application/json;+charset=utf-8 8.1505ms
2021-07-15 10:46:45.112.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 10:46:45.113.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:46:45.113.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 10:46:45.113.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 10:46:45.159.-04:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 10:46:45.160.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 10:46:45.160.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 47.142ms
2021-07-15 10:46:45.160.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 10:46:45.160.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 230 application/json;+charset=utf-8 47.6974ms
2021-07-15 11:00:02.378.-04:00 [INF] Application is Starting
2021-07-15 11:00:03.802.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 11:00:04.335.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 11:00:04.335.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 11:00:04.336.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 11:00:04.336.-04:00 [INF] Hosting environment: Development
2021-07-15 11:00:04.336.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 11:00:05.647.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 11:00:05.753.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 107.8401ms
2021-07-15 11:00:05.990.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 11:00:06.090.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.9174ms
2021-07-15 11:01:16.210.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 11:01:16.538.-04:00 [INF] Successfully validated the token.
2021-07-15 11:01:16.541.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:01:16.576.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 11:01:16.998.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 11:01:17.754.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:01:18.475.-04:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 11:01:18.654.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 11:01:18.675.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 11:01:18.717.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2136.4417ms
2021-07-15 11:01:18.717.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:01:18.723.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2513.0597ms
2021-07-15 11:05:45.767.-04:00 [INF] Application is Starting
2021-07-15 11:05:47.189.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 11:05:47.648.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 11:05:47.648.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 11:05:47.648.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 11:05:47.649.-04:00 [INF] Hosting environment: Development
2021-07-15 11:05:47.649.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 11:05:48.847.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 11:05:48.950.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 105.3231ms
2021-07-15 11:05:49.185.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 11:05:49.284.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 98.5020ms
2021-07-15 11:10:01.944.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 11:10:02.264.-04:00 [INF] Successfully validated the token.
2021-07-15 11:10:02.267.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:10:02.301.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 11:10:02.722.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 11:10:03.456.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:10:04.166.-04:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 11:10:04.352.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 11:10:04.373.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 11:10:04.413.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2108.1975ms
2021-07-15 11:10:04.414.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:10:04.420.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2476.0009ms
2021-07-15 11:11:27.098.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 - -
2021-07-15 11:11:27.101.-04:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token: XYZ
2021-07-15 11:11:27.102.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-07-15 11:11:27.106.-04:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:11:27.136.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:11:27.173.-04:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-15 11:11:27.199.-04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'.
2021-07-15 11:11:27.207.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 100.8553ms
2021-07-15 11:11:27.207.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-07-15 11:11:27.207.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 - - - 200 109 application/json;+charset=utf-8 109.0000ms
2021-07-15 11:11:40.340.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 260
2021-07-15 11:11:40.342.-04:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token: XYZ
2021-07-15 11:11:40.347.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 11:11:40.354.-04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-15 11:11:40.354.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 260 - 401 0 - 13.7073ms
2021-07-15 11:12:01.122.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:12:01.123.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:12:01.126.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:12:01.181.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:12:01.216.-04:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:12:01.271.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:12:01.278.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 152.522ms
2021-07-15 11:12:01.279.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:12:01.279.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 156.5272ms
2021-07-15 11:12:06.599.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 11:12:06.600.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:12:06.604.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:12:06.607.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:12:06.668.-04:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 11:12:06.774.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:12:06.777.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 172.8977ms
2021-07-15 11:12:06.777.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:12:06.777.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 230 application/json;+charset=utf-8 177.6636ms
2021-07-15 11:12:17.645.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 11:12:17.646.-04:00 [INF] Successfully validated the token.
2021-07-15 11:12:17.646.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:12:17.646.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 11:12:17.647.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 11:12:17.647.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:12:17.694.-04:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 11:12:17.738.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 11:12:17.738.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 11:12:17.739.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 92.6482ms
2021-07-15 11:12:17.739.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:12:17.739.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 94.2035ms
2021-07-15 11:13:35.251.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 260
2021-07-15 11:13:35.251.-04:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token: XYZ
2021-07-15 11:13:35.252.-04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-15 11:13:35.277.-04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-15 11:13:35.328.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 260 - 401 0 - 74.0203ms
2021-07-15 11:15:12.330.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 11:15:12.330.-04:00 [INF] Successfully validated the token.
2021-07-15 11:15:12.330.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:15:12.331.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 11:15:12.336.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 11:15:12.336.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:15:12.343.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 11:15:12.401.-04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 11:15:12.405.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 11:15:12.405.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 74.8665ms
2021-07-15 11:15:12.406.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:15:12.406.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 75.6031ms
2021-07-15 11:15:21.314.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 11:15:21.314.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:15:21.314.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 11:15:21.315.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 11:15:21.315.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:15:21.361.-04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 11:15:21.450.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 11:15:21.451.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 11:15:21.451.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 137.1049ms
2021-07-15 11:15:21.451.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:15:21.451.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 140.4022ms
2021-07-15 11:15:38.815.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 260
2021-07-15 11:15:38.815.-04:00 [INF] Successfully validated the token.
2021-07-15 11:15:38.816.-04:00 [INF] Authorization was successful.
2021-07-15 11:15:38.816.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:15:38.819.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:15:38.839.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:15:38.842.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-15 11:15:39.256.-04:00 [ERR] Something wen wrong in the UpdateCountry
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
UpdateCountryDTO -> Hotel
HotelListing.Models.UpdateCountryDTO -> HotelListing.Data.Hotel
   at lambda_method249(Closure , UpdateCountryDTO , Hotel , ResolutionContext )
   at HotelListing.Controllers.CountryController.UpdateCountry(Int32 id, UpdateCountryDTO countryDTO) in /Users/marksweitzer/Sites/c#/HotelListing/HotelListing/Controllers/CountryController.cs:line 129
2021-07-15 11:15:39.347.-04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-07-15 11:15:39.347.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 527.8562ms
2021-07-15 11:15:39.347.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:15:39.348.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 260 - 500 - text/plain;+charset=utf-8 533.2226ms
2021-07-15 11:18:02.185.-04:00 [INF] Application is Starting
2021-07-15 11:18:03.497.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 11:18:04.002.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 11:18:04.002.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 11:18:04.002.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 11:18:04.002.-04:00 [INF] Hosting environment: Development
2021-07-15 11:18:04.002.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 11:18:05.268.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 11:18:05.373.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 107.6001ms
2021-07-15 11:18:05.624.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 11:18:05.730.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 105.2793ms
2021-07-15 11:18:13.708.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 11:18:13.836.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:18:13.873.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 11:18:14.360.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 11:18:15.090.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:18:15.835.-04:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 11:18:16.038.-04:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 11:18:16.142.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 11:18:16.183.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2305.3144ms
2021-07-15 11:18:16.184.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:18:16.189.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2481.2924ms
2021-07-15 11:18:41.246.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 260
2021-07-15 11:18:41.313.-04:00 [INF] Successfully validated the token.
2021-07-15 11:18:41.318.-04:00 [INF] Authorization was successful.
2021-07-15 11:18:41.319.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:18:41.323.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:18:41.382.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:18:41.471.-04:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 11:18:41.604.-04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 11:18:41.632.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 11:18:41.632.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 309.36ms
2021-07-15 11:18:41.633.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:18:41.634.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 260 - 204 - - 388.1284ms
2021-07-15 11:18:47.704.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:18:47.706.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:18:47.709.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:18:47.718.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:18:47.727.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:18:47.750.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:18:47.756.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 47.7274ms
2021-07-15 11:18:47.757.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:18:47.757.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 52.8578ms
2021-07-15 11:19:01.452.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 11:19:01.452.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:19:01.455.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:19:01.457.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:19:01.485.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 11:19:01.496.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:19:01.499.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 43.5314ms
2021-07-15 11:19:01.499.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:19:01.499.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 230 application/json;+charset=utf-8 46.9533ms
2021-07-15 11:19:14.652.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:19:14.652.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:19:14.652.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:19:14.652.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:19:14.656.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:19:14.656.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:19:14.656.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 4.173ms
2021-07-15 11:19:14.656.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:19:14.656.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 4.7504ms
2021-07-15 11:20:24.398.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:20:24.399.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:20:24.399.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:20:24.399.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:20:24.408.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:20:24.408.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:20:24.409.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 9.6219ms
2021-07-15 11:20:24.409.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:20:24.409.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 10.9323ms
2021-07-15 11:20:35.248.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 259
2021-07-15 11:20:35.249.-04:00 [INF] Successfully validated the token.
2021-07-15 11:20:35.249.-04:00 [INF] Authorization was successful.
2021-07-15 11:20:35.249.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:20:35.249.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:20:35.250.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:20:35.256.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 11:20:35.262.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 11:20:35.267.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 11:20:35.267.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 18.0508ms
2021-07-15 11:20:35.267.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:20:35.268.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 259 - 204 - - 19.2910ms
2021-07-15 11:21:02.217.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:21:02.218.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:21:02.218.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:21:02.218.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:21:02.398.-04:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:21:02.398.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:21:02.399.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 180.6675ms
2021-07-15 11:21:02.399.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:21:02.399.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 181.2629ms
2021-07-15 11:21:12.721.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 11:21:12.721.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:21:12.721.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:21:12.722.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:21:12.726.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 11:21:12.726.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:21:12.726.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 5.0037ms
2021-07-15 11:21:12.726.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:21:12.726.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 229 application/json;+charset=utf-8 5.7506ms
2021-07-15 11:26:29.065.-04:00 [INF] Application is Starting
2021-07-15 11:26:30.393.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 11:26:30.969.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 11:26:30.969.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 11:26:30.969.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 11:26:30.969.-04:00 [INF] Hosting environment: Development
2021-07-15 11:26:30.969.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 11:26:32.199.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 11:26:32.302.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 106.4388ms
2021-07-15 11:26:32.531.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 11:26:32.630.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.9470ms
2021-07-15 11:26:46.182.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 11:26:46.313.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:26:46.348.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 11:26:46.826.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 11:26:47.568.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:26:48.233.-04:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 11:26:48.408.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 11:26:48.505.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 11:26:48.544.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2192.2694ms
2021-07-15 11:26:48.545.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:26:48.550.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2368.0443ms
2021-07-15 11:26:58.322.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:26:58.325.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:26:58.328.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:26:58.355.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:26:58.368.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:26:58.397.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:26:58.412.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 84.4631ms
2021-07-15 11:26:58.412.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:26:58.413.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 91.0684ms
2021-07-15 11:27:01.082.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 260
2021-07-15 11:27:01.148.-04:00 [INF] Successfully validated the token.
2021-07-15 11:27:01.154.-04:00 [INF] Authorization was successful.
2021-07-15 11:27:01.154.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:27:01.158.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:27:01.189.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:27:01.199.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 11:27:01.317.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 11:27:01.346.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 11:27:01.346.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 187.2783ms
2021-07-15 11:27:01.346.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:27:01.346.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 260 - 204 - - 264.6914ms
2021-07-15 11:27:04.653.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:27:04.653.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:27:04.653.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:27:04.655.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:27:04.658.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:27:04.659.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:27:04.659.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 5.399ms
2021-07-15 11:27:04.659.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:27:04.659.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 6.1129ms
2021-07-15 11:30:29.954.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 11:30:29.956.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:30:29.956.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 11:30:30.028.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 11:30:30.029.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:30:30.035.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 11:30:30.054.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 11:30:30.054.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 11:30:30.054.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 98.0666ms
2021-07-15 11:30:30.054.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:30:30.054.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 100.7074ms
2021-07-15 11:30:39.467.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257
2021-07-15 11:30:39.467.-04:00 [INF] Successfully validated the token.
2021-07-15 11:30:39.468.-04:00 [INF] Authorization was successful.
2021-07-15 11:30:39.468.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:30:39.468.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:30:39.469.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:30:39.515.-04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 11:30:39.543.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 11:30:39.548.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 11:30:39.548.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 80.2123ms
2021-07-15 11:30:39.548.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:30:39.549.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257 - 204 - - 81.4625ms
2021-07-15 11:30:44.175.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:30:44.175.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:30:44.175.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:30:44.175.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:30:44.179.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:30:44.179.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:30:44.180.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 4.4814ms
2021-07-15 11:30:44.180.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:30:44.180.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 5.1139ms
2021-07-15 11:30:57.586.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:30:57.586.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:30:57.586.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:30:57.587.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:30:57.635.-04:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:30:57.636.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:30:57.636.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 49.5225ms
2021-07-15 11:30:57.636.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:30:57.636.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 50.0565ms
2021-07-15 11:34:52.989.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257
2021-07-15 11:34:52.990.-04:00 [INF] Successfully validated the token.
2021-07-15 11:34:52.991.-04:00 [INF] Authorization was successful.
2021-07-15 11:34:52.991.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:34:52.992.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:34:52.992.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:34:53.062.-04:00 [INF] Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 11:34:53.137.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 11:34:53.142.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 11:34:53.142.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 150.1825ms
2021-07-15 11:34:53.142.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:34:53.142.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257 - 204 - - 152.8698ms
2021-07-15 11:35:10.258.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:35:10.258.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:35:10.258.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:35:10.259.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:35:10.286.-04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:35:10.287.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:35:10.287.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 28.5616ms
2021-07-15 11:35:10.287.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:35:10.287.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 29.1010ms
2021-07-15 11:35:17.147.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:35:17.148.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:35:17.148.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:35:17.148.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:35:17.151.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:35:17.152.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:35:17.152.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 3.9767ms
2021-07-15 11:35:17.152.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:35:17.152.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 4.5466ms
2021-07-15 11:39:51.987.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 265
2021-07-15 11:39:51.988.-04:00 [INF] Successfully validated the token.
2021-07-15 11:39:51.988.-04:00 [INF] Authorization was successful.
2021-07-15 11:39:51.988.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:39:51.988.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:39:51.989.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:39:52.155.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 11:39:52.160.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 11:39:52.164.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 11:39:52.164.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 175.855ms
2021-07-15 11:39:52.164.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:39:52.164.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 265 - 204 - - 176.9510ms
2021-07-15 11:39:54.338.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 11:39:54.338.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:39:54.341.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:39:54.342.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:39:54.373.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 11:39:54.382.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:39:54.384.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 42.5857ms
2021-07-15 11:39:54.384.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:39:54.384.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 238 application/json;+charset=utf-8 46.2095ms
2021-07-15 11:40:02.613.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:40:02.613.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:40:02.613.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:40:02.614.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:40:02.688.-04:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:40:02.714.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:40:02.758.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 144.7972ms
2021-07-15 11:40:02.758.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:40:02.759.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 145.3838ms
2021-07-15 11:43:30.466.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 261
2021-07-15 11:43:30.467.-04:00 [INF] Successfully validated the token.
2021-07-15 11:43:30.467.-04:00 [INF] Authorization was successful.
2021-07-15 11:43:30.467.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:43:30.467.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:43:30.468.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:43:30.471.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 11:43:30.489.-04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 11:43:30.495.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 11:43:30.495.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 27.3505ms
2021-07-15 11:43:30.495.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:43:30.495.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 261 - 204 - - 28.8424ms
2021-07-15 11:43:33.738.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 11:43:33.739.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:43:33.739.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:43:33.739.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:43:33.782.-04:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 11:43:33.804.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:43:33.829.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 90.0808ms
2021-07-15 11:43:33.829.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:43:33.829.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 238 application/json;+charset=utf-8 90.6960ms
2021-07-15 11:44:13.392.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:44:13.393.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:44:13.393.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:44:13.393.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:44:13.515.-04:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:44:13.517.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:44:13.517.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 124.6318ms
2021-07-15 11:44:13.517.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:44:13.518.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 125.2075ms
2021-07-15 11:44:17.579.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 11:44:17.579.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:44:17.579.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:44:17.579.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:44:17.630.-04:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 11:44:17.632.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:44:17.632.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 52.7581ms
2021-07-15 11:44:17.632.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:44:17.632.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 238 application/json;+charset=utf-8 53.3051ms
2021-07-15 11:44:19.144.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 11:44:19.144.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:44:19.144.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:44:19.145.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:44:19.170.-04:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 11:44:19.170.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:44:19.171.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 26.3707ms
2021-07-15 11:44:19.171.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:44:19.171.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 238 application/json;+charset=utf-8 26.9462ms
2021-07-15 11:44:23.612.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 253
2021-07-15 11:44:23.612.-04:00 [INF] Successfully validated the token.
2021-07-15 11:44:23.612.-04:00 [INF] Authorization was successful.
2021-07-15 11:44:23.612.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:44:23.613.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:44:23.613.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:44:23.616.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 11:44:23.641.-04:00 [INF] Executed DbCommand (22ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 11:44:23.646.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 11:44:23.646.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 33.2968ms
2021-07-15 11:44:23.646.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:44:23.646.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 253 - 204 - - 34.0565ms
2021-07-15 11:44:26.156.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 11:44:26.156.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:44:26.156.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:44:26.156.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:44:26.160.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 11:44:26.160.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:44:26.160.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 4.0856ms
2021-07-15 11:44:26.160.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:44:26.160.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 230 application/json;+charset=utf-8 4.5603ms
2021-07-15 11:44:29.219.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:44:29.219.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:44:29.219.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:44:29.220.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:44:29.243.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:44:29.244.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:44:29.244.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 24.3315ms
2021-07-15 11:44:29.244.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:44:29.244.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 24.8177ms
2021-07-15 11:44:58.376.-04:00 [INF] Application is Starting
2021-07-15 11:44:59.771.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 11:45:00.312.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 11:45:00.312.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 11:45:00.312.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 11:45:00.312.-04:00 [INF] Hosting environment: Development
2021-07-15 11:45:00.312.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 11:45:01.501.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 11:45:01.612.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 113.9067ms
2021-07-15 11:45:01.848.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 11:45:01.948.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.7387ms
2021-07-15 11:45:07.089.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 11:45:07.217.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:45:07.253.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 11:45:07.750.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 11:45:08.497.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:45:09.204.-04:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 11:45:09.384.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 11:45:09.486.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 11:45:09.528.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2270.2311ms
2021-07-15 11:45:09.529.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 11:45:09.534.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2444.8449ms
2021-07-15 11:45:26.707.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257
2021-07-15 11:45:26.779.-04:00 [INF] Successfully validated the token.
2021-07-15 11:45:26.785.-04:00 [INF] Authorization was successful.
2021-07-15 11:45:26.785.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:45:26.789.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:45:26.845.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:45:26.859.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 11:45:26.985.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 11:45:27.013.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 11:45:27.013.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 223.6628ms
2021-07-15 11:45:27.013.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 11:45:27.014.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257 - 204 - - 307.5246ms
2021-07-15 11:45:32.312.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 11:45:32.314.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:45:32.316.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:45:32.325.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:45:32.380.-04:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 11:45:32.398.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:45:32.405.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 88.3239ms
2021-07-15 11:45:32.405.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:45:32.405.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 234 application/json;+charset=utf-8 93.2777ms
2021-07-15 11:45:35.606.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:45:35.607.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:45:35.609.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:45:35.612.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:45:35.639.-04:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:45:35.651.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:45:35.654.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 44.7675ms
2021-07-15 11:45:35.654.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:45:35.654.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 537 application/json;+charset=utf-8 48.0387ms
2021-07-15 11:47:30.004.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 82
2021-07-15 11:47:30.005.-04:00 [INF] Successfully validated the token.
2021-07-15 11:47:30.006.-04:00 [INF] Authorization was successful.
2021-07-15 11:47:30.009.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-15 11:47:30.012.-04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:47:30.016.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:47:30.085.-04:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-07-15 11:47:30.148.-04:00 [ERR] An exception occurred in the database while saving changes for context type 'HotelListing.Data.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Hotels_Countries_CountryId". The conflict occurred in database "HotelListings_db", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bb231153-ce00-42d7-a66f-25563d79837a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Hotels_Countries_CountryId". The conflict occurred in database "HotelListings_db", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bb231153-ce00-42d7-a66f-25563d79837a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-07-15 11:47:30.967.-04:00 [ERR] Somthing went wrong in the CreateHotel
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Hotels_Countries_CountryId". The conflict occurred in database "HotelListings_db", table "dbo.Countries", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:bb231153-ce00-42d7-a66f-25563d79837a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HotelListing.Repository.UnitOfWork.Save() in /Users/marksweitzer/Sites/c#/HotelListing/HotelListing/Repository/UnitOfWork.cs:line 29
   at HotelListing.Controllers.HotelController.CreateHotel(CreateHotelDTO hotelDTO) in /Users/marksweitzer/Sites/c#/HotelListing/HotelListing/Controllers/HotelController.cs:line 95
2021-07-15 11:47:30.989.-04:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-07-15 11:47:30.989.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 976.9798ms
2021-07-15 11:47:30.989.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-15 11:47:30.989.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 82 - 500 - text/plain;+charset=utf-8 985.2433ms
2021-07-15 11:48:39.762.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 100
2021-07-15 11:48:39.764.-04:00 [INF] Successfully validated the token.
2021-07-15 11:48:39.765.-04:00 [INF] Authorization was successful.
2021-07-15 11:48:39.765.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-15 11:48:39.765.-04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:48:39.767.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:48:39.799.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-07-15 11:48:39.830.-04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'HotelListing.Data.Hotel'.
2021-07-15 11:48:39.876.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 110.3865ms
2021-07-15 11:48:39.876.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-15 11:48:39.876.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel/ application/json 100 - 201 107 application/json;+charset=utf-8 113.4902ms
2021-07-15 11:48:44.236.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 11:48:44.236.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:48:44.236.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 11:48:44.237.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:48:44.310.-04:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 11:48:44.311.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:48:44.311.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 75.0801ms
2021-07-15 11:48:44.311.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 11:48:44.312.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 234 application/json;+charset=utf-8 75.9542ms
2021-07-15 11:48:48.227.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 11:48:48.227.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:48:48.227.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 11:48:48.228.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 11:48:48.276.-04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 11:48:48.276.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 11:48:48.277.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 49.631ms
2021-07-15 11:48:48.277.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 11:48:48.277.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 645 application/json;+charset=utf-8 50.2883ms
2021-07-15 12:09:26.861.-04:00 [INF] Application is Starting
2021-07-15 12:09:28.391.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 12:09:28.938.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 12:09:28.938.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 12:09:28.938.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 12:09:28.938.-04:00 [INF] Hosting environment: Development
2021-07-15 12:09:28.938.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 12:09:30.182.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 12:09:30.286.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 106.3324ms
2021-07-15 12:09:30.523.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 12:09:30.626.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 103.4586ms
2021-07-15 12:09:42.155.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 12:09:42.302.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:09:42.341.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 12:09:42.883.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 12:09:43.690.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:09:44.469.-04:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 12:09:44.659.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 12:09:44.766.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 12:09:44.810.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2464.1503ms
2021-07-15 12:09:44.811.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:09:44.817.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2661.4473ms
2021-07-15 12:10:00.716.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257
2021-07-15 12:10:00.788.-04:00 [INF] Successfully validated the token.
2021-07-15 12:10:00.794.-04:00 [INF] Authorization was successful.
2021-07-15 12:10:00.794.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 12:10:00.799.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:10:00.858.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:10:00.872.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 12:10:01.042.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 12:10:01.070.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 12:10:01.070.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 271.2402ms
2021-07-15 12:10:01.071.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 12:10:01.072.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257 - 204 - - 355.3838ms
2021-07-15 12:10:03.152.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 12:10:03.155.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:10:03.157.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:10:03.166.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:10:03.198.-04:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 12:10:03.217.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:10:03.223.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 65.9758ms
2021-07-15 12:10:03.223.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:10:03.224.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 234 application/json;+charset=utf-8 71.5223ms
2021-07-15 12:10:06.459.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 12:10:06.459.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:10:06.462.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 12:10:06.464.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:10:06.471.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 12:10:06.483.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:10:06.486.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 23.7502ms
2021-07-15 12:10:06.486.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:10:06.486.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 645 application/json;+charset=utf-8 27.1137ms
2021-07-15 12:13:27.463.-04:00 [INF] Application is Starting
2021-07-15 12:13:28.844.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 12:13:29.359.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 12:13:29.359.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 12:13:29.359.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 12:13:29.359.-04:00 [INF] Hosting environment: Development
2021-07-15 12:13:29.359.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 12:13:30.592.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 12:13:30.681.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 91.0559ms
2021-07-15 12:13:30.918.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 12:13:31.022.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.4198ms
2021-07-15 12:13:41.877.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 12:13:42.010.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:13:42.048.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 12:13:42.524.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 12:13:43.291.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:13:44.057.-04:00 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 12:13:44.252.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 12:13:44.384.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 12:13:44.427.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2374.4378ms
2021-07-15 12:13:44.427.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:13:44.433.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2555.8085ms
2021-07-15 12:13:56.479.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257
2021-07-15 12:13:56.548.-04:00 [INF] Successfully validated the token.
2021-07-15 12:13:56.553.-04:00 [INF] Authorization was successful.
2021-07-15 12:13:56.554.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 12:13:56.558.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:13:56.615.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:13:56.629.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 12:13:56.781.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 12:13:56.810.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 12:13:56.810.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 251.2422ms
2021-07-15 12:13:56.810.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 12:13:56.811.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257 - 204 - - 332.1144ms
2021-07-15 12:14:02.024.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 12:14:02.027.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:14:02.029.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:14:02.038.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:14:02.072.-04:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 12:14:02.091.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:14:02.097.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 67.5477ms
2021-07-15 12:14:02.097.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:14:02.097.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 234 application/json;+charset=utf-8 72.8040ms
2021-07-15 12:14:04.261.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 12:14:04.261.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:14:04.263.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 12:14:04.266.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:14:04.272.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 12:14:04.284.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:14:04.287.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 23.3886ms
2021-07-15 12:14:04.287.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:14:04.287.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 645 application/json;+charset=utf-8 26.4742ms
2021-07-15 12:14:08.798.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 12:14:08.798.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:14:08.798.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 12:14:08.802.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:14:08.806.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 12:14:08.807.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:14:08.807.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 8.6243ms
2021-07-15 12:14:08.807.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:14:08.807.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 645 application/json;+charset=utf-8 9.3199ms
2021-07-15 12:14:36.861.-04:00 [INF] Application is Starting
2021-07-15 12:14:38.259.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 12:14:38.729.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 12:14:38.729.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 12:14:38.730.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 12:14:38.730.-04:00 [INF] Hosting environment: Development
2021-07-15 12:14:38.730.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 12:14:39.936.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 12:14:40.039.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 105.8962ms
2021-07-15 12:14:40.283.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 12:14:40.378.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.9382ms
2021-07-15 12:15:27.920.-04:00 [INF] Application is Starting
2021-07-15 12:15:29.359.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 12:15:29.856.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 12:15:29.856.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 12:15:29.856.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 12:15:29.856.-04:00 [INF] Hosting environment: Development
2021-07-15 12:15:29.857.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 12:15:31.086.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 12:15:31.184.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 100.6291ms
2021-07-15 12:15:31.435.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 12:15:31.532.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 97.0821ms
2021-07-15 12:15:45.702.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 12:15:45.843.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:15:45.879.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 12:15:46.391.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 12:15:47.156.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:15:47.906.-04:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 12:15:48.093.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 12:15:48.196.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 12:15:48.239.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2355.508ms
2021-07-15 12:15:48.240.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:15:48.245.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2543.2009ms
2021-07-15 12:16:00.065.-04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257
2021-07-15 12:16:00.134.-04:00 [INF] Successfully validated the token.
2021-07-15 12:16:00.140.-04:00 [INF] Authorization was successful.
2021-07-15 12:16:00.140.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 12:16:00.144.-04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:16:00.199.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:16:00.214.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 12:16:00.418.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-15 12:16:00.433.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-07-15 12:16:00.454.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-07-15 12:16:00.478.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 12:16:00.478.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 333.4177ms
2021-07-15 12:16:00.478.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-15 12:16:00.479.-04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/country/3 application/json 257 - 204 - - 413.6830ms
2021-07-15 12:16:07.438.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 12:16:07.440.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:16:07.442.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:16:07.450.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:16:07.479.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 12:16:07.495.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:16:07.501.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 58.8997ms
2021-07-15 12:16:07.501.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:16:07.501.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 234 application/json;+charset=utf-8 63.4302ms
2021-07-15 12:16:10.202.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 12:16:10.202.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:16:10.205.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 12:16:10.207.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:16:10.213.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 12:16:10.228.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:16:10.231.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 25.9303ms
2021-07-15 12:16:10.231.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:16:10.231.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 837 application/json;+charset=utf-8 29.2229ms
2021-07-15 12:23:11.932.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 12:23:11.933.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:23:11.933.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:23:11.933.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:23:12.098.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 12:23:12.098.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:23:12.098.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 165.1238ms
2021-07-15 12:23:12.098.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:23:12.098.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 234 application/json;+charset=utf-8 166.5952ms
2021-07-15 12:33:26.520.-04:00 [INF] Application is Starting
2021-07-15 12:33:28.180.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 12:33:28.800.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 12:33:28.800.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 12:33:28.801.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 12:33:28.801.-04:00 [INF] Hosting environment: Development
2021-07-15 12:33:28.801.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 12:33:30.114.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 12:33:30.207.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 95.5876ms
2021-07-15 12:33:30.441.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 12:33:30.538.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.7054ms
2021-07-15 12:35:34.067.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 12:35:34.222.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:35:34.266.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 12:35:34.816.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 12:35:35.640.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:35:36.449.-04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 12:35:36.652.-04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 12:35:36.766.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 12:35:36.814.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2543.1535ms
2021-07-15 12:35:36.815.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:35:36.821.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2753.9522ms
2021-07-15 12:44:18.546.-04:00 [INF] Application is Starting
2021-07-15 12:44:20.011.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 12:44:20.506.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 12:44:20.506.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 12:44:20.506.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 12:44:20.506.-04:00 [INF] Hosting environment: Development
2021-07-15 12:44:20.506.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 12:44:21.738.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 12:44:21.845.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 108.8265ms
2021-07-15 12:44:22.132.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 12:44:22.237.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 105.0052ms
2021-07-15 12:44:29.047.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 12:44:29.177.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:44:29.213.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 12:44:29.726.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 12:44:30.507.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:44:31.227.-04:00 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 12:44:31.417.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 12:44:31.522.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 12:44:31.565.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2347.0429ms
2021-07-15 12:44:31.567.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:44:31.572.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2525.0126ms
2021-07-15 12:44:44.852.-04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/hotel/7 - -
2021-07-15 12:44:44.924.-04:00 [INF] Successfully validated the token.
2021-07-15 12:44:44.925.-04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-07-15 12:44:44.926.-04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-07-15 12:44:44.926.-04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/hotel/7 - - - 405 0 - 74.1935ms
2021-07-15 12:45:32.253.-04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/hotel/7 - -
2021-07-15 12:45:32.256.-04:00 [INF] Successfully validated the token.
2021-07-15 12:45:32.256.-04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-07-15 12:45:32.256.-04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-07-15 12:45:32.256.-04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/hotel/7 - - - 405 0 - 3.0703ms
2021-07-15 12:45:41.764.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 12:45:41.765.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:45:41.765.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 12:45:41.863.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 12:45:41.892.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:45:41.897.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 12:45:41.915.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 12:45:41.916.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 12:45:41.916.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 150.9917ms
2021-07-15 12:45:41.916.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:45:41.916.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 152.4216ms
2021-07-15 12:46:17.112.-04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/hotel/7 - -
2021-07-15 12:46:17.112.-04:00 [INF] Successfully validated the token.
2021-07-15 12:46:17.112.-04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-07-15 12:46:17.112.-04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-07-15 12:46:17.112.-04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/hotel/7 - - - 405 0 - 0.5814ms
2021-07-15 12:49:51.859.-04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/hotel/7 - -
2021-07-15 12:49:51.863.-04:00 [INF] Successfully validated the token.
2021-07-15 12:49:51.863.-04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-07-15 12:49:51.863.-04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-07-15 12:49:51.864.-04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/hotel/7 - - - 405 0 - 4.5821ms
2021-07-15 12:50:48.786.-04:00 [INF] Application is Starting
2021-07-15 12:50:50.074.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 12:50:50.602.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 12:50:50.602.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 12:50:50.603.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 12:50:50.603.-04:00 [INF] Hosting environment: Development
2021-07-15 12:50:50.603.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 12:50:51.881.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 12:50:51.984.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 105.3404ms
2021-07-15 12:50:52.249.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 12:50:52.348.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.1335ms
2021-07-15 12:50:57.261.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 12:50:57.414.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:50:57.451.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 12:50:57.952.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 12:50:58.707.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:50:59.445.-04:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 12:50:59.629.-04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 12:50:59.737.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 12:50:59.780.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2324.0785ms
2021-07-15 12:50:59.781.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:50:59.786.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2525.0220ms
2021-07-15 12:51:19.556.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 12:51:19.559.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:51:19.562.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:51:19.592.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:51:19.607.-04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 12:51:19.635.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:51:19.648.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 86.1113ms
2021-07-15 12:51:19.648.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:51:19.649.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 234 application/json;+charset=utf-8 93.0562ms
2021-07-15 12:51:23.457.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 12:51:23.458.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:51:23.461.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 12:51:23.469.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:51:23.476.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 12:51:23.491.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:51:23.494.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 33.4698ms
2021-07-15 12:51:23.495.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:51:23.495.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 837 application/json;+charset=utf-8 38.0971ms
2021-07-15 12:51:30.499.-04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/hotel/7 - -
2021-07-15 12:51:30.565.-04:00 [INF] Successfully validated the token.
2021-07-15 12:51:30.566.-04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-07-15 12:51:30.566.-04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-07-15 12:51:30.566.-04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/hotel/7 - - - 405 0 - 67.0236ms
2021-07-15 12:52:57.168.-04:00 [INF] Application is Starting
2021-07-15 12:52:58.434.-04:00 [INF] User profile is available. Using '/Users/marksweitzer/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-07-15 12:52:58.901.-04:00 [INF] Now listening on: https://localhost:5001
2021-07-15 12:52:58.901.-04:00 [INF] Now listening on: http://localhost:5000
2021-07-15 12:52:58.901.-04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-15 12:52:58.901.-04:00 [INF] Hosting environment: Development
2021-07-15 12:52:58.901.-04:00 [INF] Content root path: /Users/marksweitzer/Sites/c#/HotelListing/HotelListing
2021-07-15 12:53:00.151.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2021-07-15 12:53:00.247.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 97.8117ms
2021-07-15 12:53:00.458.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-15 12:53:00.552.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.0078ms
2021-07-15 12:53:07.223.-04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63
2021-07-15 12:53:07.373.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:53:07.408.-04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-15 12:53:07.884.-04:00 [INF] Login Attempt for mark@hotels.com
2021-07-15 12:53:08.665.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:53:09.427.-04:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-15 12:53:09.619.-04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-15 12:53:09.754.-04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-15 12:53:09.798.-04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2385.0386ms
2021-07-15 12:53:09.799.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-15 12:53:09.804.-04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Account/login application/json 63 - 202 360 application/json;+charset=utf-8 2581.7720ms
2021-07-15 12:53:19.401.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 12:53:19.404.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:53:19.407.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 12:53:19.435.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:53:19.473.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 12:53:19.504.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:53:19.518.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 111.6234ms
2021-07-15 12:53:19.518.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:53:19.519.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 837 application/json;+charset=utf-8 117.9589ms
2021-07-15 12:53:22.184.-04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Hotel/7 - -
2021-07-15 12:53:22.252.-04:00 [INF] Successfully validated the token.
2021-07-15 12:53:22.258.-04:00 [INF] Authorization was successful.
2021-07-15 12:53:22.259.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.DeleteHotel (HotelListing)'
2021-07-15 12:53:22.263.-04:00 [INF] Route matched with {action = "DeleteHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 12:53:22.273.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:53:22.283.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-15 12:53:22.298.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__p_0
2021-07-15 12:53:22.419.-04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Hotels]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2021-07-15 12:53:22.476.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 12:53:22.476.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.DeleteHotel (HotelListing) in 213.0343ms
2021-07-15 12:53:22.476.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.DeleteHotel (HotelListing)'
2021-07-15 12:53:22.476.-04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Hotel/7 - - - 204 - - 292.2543ms
2021-07-15 12:53:27.824.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 12:53:27.824.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:53:27.824.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 12:53:27.826.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:53:27.855.-04:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 12:53:27.855.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:53:27.856.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 31.3021ms
2021-07-15 12:53:27.856.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:53:27.859.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 729 application/json;+charset=utf-8 35.1162ms
2021-07-15 12:54:41.666.-04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/country/3 - -
2021-07-15 12:54:41.667.-04:00 [INF] Successfully validated the token.
2021-07-15 12:54:41.670.-04:00 [INF] Authorization was successful.
2021-07-15 12:54:41.671.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.DeleteCountry (HotelListing)'
2021-07-15 12:54:41.676.-04:00 [INF] Route matched with {action = "DeleteCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:54:41.678.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:54:41.711.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 12:54:41.742.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__p_0
2021-07-15 12:54:41.762.-04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Countries]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2021-07-15 12:54:41.767.-04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-15 12:54:41.767.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.DeleteCountry (HotelListing) in 90.6787ms
2021-07-15 12:54:41.767.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.DeleteCountry (HotelListing)'
2021-07-15 12:54:41.767.-04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/country/3 - - - 204 - - 100.4995ms
2021-07-15 12:54:45.541.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country - -
2021-07-15 12:54:45.545.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:54:45.547.-04:00 [INF] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:54:45.549.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:54:45.554.-04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
2021-07-15 12:54:45.564.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:54:45.566.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 18.4609ms
2021-07-15 12:54:45.566.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'
2021-07-15 12:54:45.566.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country - - - 200 168 application/json;+charset=utf-8 24.7062ms
2021-07-15 12:54:49.865.-04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/ - -
2021-07-15 12:54:49.866.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:54:49.866.-04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-15 12:54:49.866.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:54:49.887.-04:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2021-07-15 12:54:49.936.-04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-07-15 12:54:49.988.-04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 121.9438ms
2021-07-15 12:54:49.988.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2021-07-15 12:54:49.988.-04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/ - - - 200 432 application/json;+charset=utf-8 122.6020ms
2021-07-15 12:54:55.280.-04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/country/3 - -
2021-07-15 12:54:55.281.-04:00 [INF] Successfully validated the token.
2021-07-15 12:54:55.281.-04:00 [INF] Authorization was successful.
2021-07-15 12:54:55.281.-04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.DeleteCountry (HotelListing)'
2021-07-15 12:54:55.281.-04:00 [INF] Route matched with {action = "DeleteCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-15 12:54:55.282.-04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-15 12:54:55.286.-04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-15 12:54:55.287.-04:00 [ERR] Invalid DELETE attempt in DeleteCountry
2021-07-15 12:54:55.287.-04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-07-15 12:54:55.288.-04:00 [INF] Executed action HotelListing.Controllers.CountryController.DeleteCountry (HotelListing) in 6.2257ms
2021-07-15 12:54:55.288.-04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.DeleteCountry (HotelListing)'
2021-07-15 12:54:55.288.-04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/country/3 - - - 400 - text/plain;+charset=utf-8 7.5020ms
